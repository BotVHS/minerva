# Application Configuration
quarkus.application.name=Minerva Security System
quarkus.http.port=8080
quarkus.http.cors=true
quarkus.http.cors.origins=http://localhost:4200
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.exposed-headers=Content-Disposition
quarkus.http.cors.access-control-max-age=24H
quarkus.http.cors.access-control-allow-credentials=true

# MongoDB Configuration
quarkus.mongodb.connection-string=mongodb://localhost:27017/?retryWrites=false
quarkus.mongodb.database=minerva_db
# No authentication for local development
# quarkus.mongodb.credentials.username=${MONGODB_USER:admin}
# quarkus.mongodb.credentials.password=${MONGODB_PASSWORD:securepassword}
# quarkus.mongodb.credentials.auth-source=admin
# Enable TLS in production
# quarkus.mongodb.tls=true

# JWT Configuration
mp.jwt.verify.publickey.location=/keys/public-key.pem
mp.jwt.verify.issuer=minerva
smallrye.jwt.sign.key.location=/keys/private-key.pem

# Token Configuration (temps en segons)
minerva.security.access-token.duration=300
minerva.security.refresh-token.duration=86400

# Password Policy
minerva.security.password.min-length=12
minerva.security.password.require-uppercase=true
minerva.security.password.require-lowercase=true
minerva.security.password.require-digit=true
minerva.security.password.require-special=true

# Account Lockout Policy
minerva.security.max-failed-attempts=5
minerva.security.lockout-duration=1800

# Rate Limiting
minerva.security.rate-limit.login-attempts=10
minerva.security.rate-limit.period=60

# 2FA Configuration
minerva.security.totp.issuer=Minerva
minerva.security.totp.period=30
minerva.security.totp.digits=6

# Security Headers
quarkus.http.header."X-Content-Type-Options".value=nosniff
quarkus.http.header."X-Frame-Options".value=DENY
quarkus.http.header."X-XSS-Protection".value=1; mode=block
quarkus.http.header."Strict-Transport-Security".value=max-age=31536000; includeSubDomains
quarkus.http.header."Content-Security-Policy".value=default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'

# Logging
quarkus.log.level=INFO
quarkus.log.category."cat.minerva".level=DEBUG
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{3.}] (%t) %s%e%n

# Health checks
quarkus.smallrye-health.root-path=/health
